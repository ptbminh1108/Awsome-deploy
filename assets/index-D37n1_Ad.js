(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();let h="",f=0,a=0,g=10,l=null,c=60,d=!1,u=!0,m=0;function E(){console.log("Initializing Math Fun Adventure game..."),document.getElementById("timerToggle").addEventListener("change",function(){d=this.checked,console.log("Timed mode:",d)}),document.getElementById("soundToggle").addEventListener("change",function(){u=this.checked,console.log("Sound enabled:",u)}),y("welcome-screen")}function y(e){console.log("Showing screen:",e),document.querySelectorAll(".game-section").forEach(s=>s.classList.remove("active"));const o=document.getElementById(e);o&&o.classList.add("active")}function v(){l=setInterval(()=>{c--,document.getElementById("timer-value").textContent=c;const e=document.getElementById("timer-value");c<=10?(e.style.color="#dc3545",e.style.animation="pulse 1s infinite"):c<=30&&(e.style.color="#ffc107"),c<=0&&L()},1e3)}function p(){l&&(clearInterval(l),l=null)}function L(){console.log("Game ended. Score:",a,"Correct answers:",m),p();const e=Math.round(m/Math.min(f+1,g)*100);document.getElementById("final-score").textContent=a,document.getElementById("accuracy-percentage").textContent=e+"%";let n,o,s;e>=90?(n="🏆 Math Master!",o="Outstanding! You're a math superstar!",s="🦊✨"):e>=70?(n="⭐ Great Job!",o="Excellent work! Keep practicing!",s="🦊😊"):e>=50?(n="💪 Good Effort!",o="Nice try! Practice makes perfect!",s="🦊👍"):(n="🌟 Keep Learning!",o="Don't give up! Every expert was once a beginner!",s="🦊💖"),document.getElementById("results-title").textContent=n,document.getElementById("results-message").textContent=o,document.getElementById("results-mascot").textContent=s,I(a,e,h),y("results-screen")}function I(e,n,o){console.log("Saving score:",e,n,o);const s={score:e,accuracy:n,difficulty:o,date:new Date().toLocaleDateString(),timestamp:Date.now()};let t=b();t.push(s),t.sort((r,i)=>i.score-r.score),t=t.slice(0,10),localStorage.setItem("mathGameLeaderboard",JSON.stringify(t))}function b(){const e=localStorage.getItem("mathGameLeaderboard");return e?JSON.parse(e):[]}document.addEventListener("DOMContentLoaded",function(){console.log("DOM loaded, initializing game..."),E()});document.addEventListener("visibilitychange",function(){document.hidden&&l?(console.log("Page hidden, pausing timer..."),p()):!document.hidden&&d&&c>0&&f<g&&(console.log("Page visible, resuming timer..."),v())});document.addEventListener("keydown",function(e){if(e.key==="Enter"){const n=document.activeElement;n&&n.classList.contains("answer-btn")&&n.click()}});window.addEventListener("beforeunload",function(e){});console.log("Math Fun Adventure game script loaded successfully! 🎮");
